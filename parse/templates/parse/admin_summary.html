{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Dashboard Admin Page</title>

    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">

    <!-- Bootstrap Core CSS -->
    <link href="{% static 'parse/css/bootstrap.min.css' %}"        rel="stylesheet">
    
    <!-- Bootstrap Core JavaScript -->
    <script src="{% static 'parse/js/bootstrap.min.js' %}"></script>
    
    <!-- jQuery -->
    <script src="{% static 'parse/js/jquery.js' %}"></script>
    
    <!-- Parse -->
    <script src="{% static 'parse/js/parse-1.6.12.min.js' %}"></script>
    <script src="{% static 'parse/js/admin_summary.js' %}"></script>

    <script asyn src="{% static 'parse/js/webfont.js' %}"></script>
	<script src="{% static 'parse/js/Chart.min.js' %}"></script>
    <script>
		WebFontConfig = {
			google: 
			{families: ["Open Sans",]},active: function() { 
				DrawTheChart(ChartData,ChartOptions,"chart-01","Doughnut")}
		};
	</script>
	
	<script>
		function DrawTheChart(ChartData,ChartOptions,ChartId,ChartType){
			eval('var myLine = new Chart(document.getElementById(ChartId).getContext("2d")).'+ChartType+'(ChartData,ChartOptions);document.getElementById(ChartId).getContext("2d").stroke();')
		}
	</script>
	
	<!-- params for page -->
	<script>
		initialize(Parse);
		
		function drawClientListTag() {
			function MoreChartOptions(){} 
			var ChartData = [
				{value :50,color:parent.gradientColor,gradientColors :["rgba(34,127,190,1) 1%","rgba(52,152,219,1) 20%","rgba(52,152,219,1) 80%","rgba(93,173,226,1) 99%",],title:'1'},
				{value :50,color:parent.gradientColor,gradientColors :["rgba(36,162,89,1) 1%","rgba(46,204,113,1) 20%","rgba(46,204,113,1) 80%","rgba(85,217,141,1) 99%",],title:'2'},
				{value :0,color:parent.gradientColor,gradientColors :["rgba(130,68,155,1) 1%","rgba(155,89,182,1) 20%","rgba(155,89,182,1) 80%","rgba(175,122,197,1) 99%",],title:'3'},
				{value :0,color:parent.gradientColor,gradientColors :["rgba(194,158,11,1) 1%","rgba(241,196,15,1) 20%","rgba(241,196,15,1) 80%","rgba(244,208,63,1) 99%",],title:'4 - '},];

				ChartOptions= {canvasBackgroundColor:'rgba(255,255,255,1.00)',spaceLeft:12,spaceRight:12,spaceTop:12,spaceBottom:12,canvasBorders:false,canvasBordersWidth:1,canvasBordersStyle:"solid",canvasBordersColor:"rgba(0,0,0,1)",scaleLabel:"<%=value+''%>",yAxisMinimumInterval:1,scaleShowLabels:true,scaleShowLine:true,scaleLineStyle:"solid",scaleLineWidth:1,scaleLineColor:"rgba(0,0,0,0.6)",scaleOverlay :false,scaleOverride :false,scaleSteps:10,scaleStepWidth:10,scaleStartValue:0,inGraphDataShow:true,inGraphDataTmpl:'<%=v2%>',inGraphDataFontFamily:"'Open Sans'",inGraphDataFontStyle:"normal bold",inGraphDataFontColor:"rgba(255,255,255,1.00)",inGraphDataFontSize:16,inGraphDataPaddingX:0,inGraphDataPaddingY:-5,inGraphDataAlign:"center",inGraphDataVAlign:"top",inGraphDataXPosition:2,inGraphDataYPosition:3,inGraphDataAnglePosition:2,inGraphDataRadiusPosition:2,inGraphDataRotate:0,inGraphDataPaddingAngle:0,inGraphDataPaddingRadius:0, inGraphDataBorders:false,inGraphDataBordersXSpace:1,inGraphDataBordersYSpace:1,inGraphDataBordersWidth:1,inGraphDataBordersStyle:"solid",inGraphDataBordersColor:"rgba(0,0,0,1)",legend:true,maxLegendCols:5,legendBlockSize:15,legendFillColor:'rgba(255,255,255,0.00)',legendColorIndicatorStrokeWidth:1,legendPosX:-2,legendPosY:4,legendXPadding:0,legendYPadding:0,legendBorders:false,legendBordersWidth:1,legendBordersStyle:"solid",legendBordersColors:"rgba(102,102,102,1)",legendBordersSpaceBefore:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendBordersSpaceAfter:5,legendSpaceBeforeText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceAfterText:5,legendSpaceBetweenBoxAndText:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenTextVertical:5,legendFontFamily:"'Open Sans'",legendFontStyle:"normal normal",legendFontColor:"rgba(0,0,0,1)",legendFontSize:15,showYAxisMin:false,rotateLabels:"smart",xAxisBottom:true,yAxisLeft:true,yAxisRight:false,
								graphTitle : "장비 소지 갯수 분포 차트",graphTitleFontFamily:"'Open Sans'",graphTitleFontStyle:"normal normal",graphTitleFontColor:"rgba(52,152,219,1)",graphTitleFontSize:26,graphTitleSpaceBefore:5,graphTitleSpaceAfter:5, graphTitleBorders:false,graphTitleBordersXSpace:1,graphTitleBordersYSpace:1,graphTitleBordersWidth:1,graphTitleBordersStyle:"solid",graphTitleBordersColor:"rgba(0,0,0,1)",
								graphSubTitle : "Group 당 장비 소지 갯수 분포(%)",graphSubTitleFontFamily:"'Open Sans'",graphSubTitleFontStyle:"normal normal",graphSubTitleFontColor:"rgba(102,102,102,1)",graphSubTitleFontSize:16,graphSubTitleSpaceBefore:5,graphSubTitleSpaceAfter:5, graphSubTitleBorders:false,graphSubTitleBordersXSpace:1,graphSubTitleBordersYSpace:1,graphSubTitleBordersWidth:1,graphSubTitleBordersStyle:"solid",graphSubTitleBordersColor:"rgba(0,0,0,1)",
				                crossText :["평균 "+GroupSummaryInfo.deviceList.length / GroupSummaryInfo.groupList.length+"개"],crossTextAlign :["center"],crossTextBaseline :["middle"],crossTextAngle :[0],crossTextFontFamily:["'Open Sans'"],crossTextFontStyle:["normal normal"],crossTextFontColor:["rgba(52,152,219,1)"],crossTextFontSize:[20],crossTextOverlay:[true],crossTextRelativePosX :["2"],crossTextRelativePosY :["2"],crossTextPosX:["0"],crossTextPosY :["0"],scaleFontFamily:"'Open Sans'",scaleFontStyle:"normal normal",scaleFontColor:"rgba(0,0,0,1)",scaleFontSize:12,pointLabelFontFamily:"'Open Sans'",pointLabelFontStyle:"normal normal",pointLabelFontColor:"rgba(102,102,102,1)",pointLabelFontSize:12,angleShowLineOut:true,angleLineStyle:"solid",angleLineWidth:1,angleLineColor:"rgba(0,0,0,0.1)",percentageInnerCutout:50,scaleShowGridLines:true,scaleGridLineStyle:"solid",scaleGridLineWidth:1,scaleGridLineColor:"rgba(0,0,0,0.1)",scaleXGridLinesStep:1,scaleYGridLinesStep:3,segmentShowStroke:true,segmentStrokeStyle:"solid",segmentStrokeWidth:2,segmentStrokeColor:"rgba(255,255,255,1.00)",datasetStroke:true,datasetFill : true,datasetStrokeStyle:"solid",datasetStrokeWidth:2,bezierCurve:true,bezierCurveTension :0.4,pointDotStrokeStyle:"solid",pointDotStrokeWidth : 1,pointDotRadius : 3,pointDot : true,scaleTickSizeBottom:5,scaleTickSizeTop:5,scaleTickSizeLeft:5,scaleTickSizeRight:5,graphMin:0,barShowStroke : false,barBorderRadius:0,barStrokeStyle:"solid",barStrokeWidth:1,barValueSpacing:15,barDatasetSpacing:0,scaleShowLabelBackdrop :true,scaleBackdropColor:'rgba(255,255,255,0.75)',scaleBackdropPaddingX :2,scaleBackdropPaddingY :2,animationEasing:'easeInOutExpo',animateRotate:true,animateScale:false,animationByDataset:false,animationLeftToRight:false,animationSteps:80,animation : true,onAnimationComplete : function(){MoreChartOptions()}};

			DrawTheChart(ChartData,ChartOptions,"chart-01","Doughnut");
		}
	</script>
  </head>
  <body>

    <div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<div class="page-header">
				<h1>
					Energy Dashboard<small> - admin page</small>
				</h1>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<div class="panel panel-info">
				<div class="panel-heading">
					<h3 class="panel-title">
						종합 정보
					</h3>
				</div>
				<div class="panel-body">
					<table class="table">
						<thead>
							<tr>
								<th>
									항목
								</th>
								<th>
									값
								</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>
									등록된 전체 고객 수
								</td>
								<td id="totalNumOfGroup">
								</td>
							</tr>
							<tr>
								<td>
									등록된 전체 장비 수
								</td>
								<td id="totalNumOfDevice">
								</td>
							</tr>
							<tr>
								<td>
									현재 총 에너지 사용량
								</td>
								<td id="totalCurEnergy">
								</td>
							</tr>
							<tr>
								<td>
									총 누적 에너지 사용량
								</td>
								<td id="totalAccEnergy">
								</td>
							</tr>
							<tr>
								<td>
									고객 별 평균 에너지 사용량
								</td>
								<td id="totalAvgCurEnergy">
								</td>
							</tr>
							<tr>
								<td>
									고객 별 평균 누적 에너지 사용량
								</td>
								<td id="totalAvgAccEnergy">
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="panel panel-info">
				<div class="panel-heading">
					<h3 class="panel-title">
						통계 차트
					</h3>
				</div>
				<div class="panel-body">
					<canvas  id="chart-01" width="500" height="380"></canvas>
				</div>
			</div>
		</div>
		<div class="col-md-8">			
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">
						등록 고객 리스트
					</h3>
				</div>
				<div class="panel-body">
					<div class="row">
						<div class="col-md-4">
							<form role="form" class="form-inline">
								<div class="form-group">
									 
									<label for="searchClientId">
										검색 ID : 
									</label>
									<input type="text" class="form-control" id="searchClientId">
									<button type="submit" class="btn btn-default">
										찾기
									</button>
								</div>
							</form>						
						</div>
						<div class="col-md-4">
						</div>
						<div class="col-md-4">							
						</div>
					</div>
					<table class="table" height="600">
						<thead>
							<tr>
								<th>
									#
								</th>
								<th>
									고객 ID
								</th>
								<th>
									장비 갯수
								</th>
								<th>
									현재 에너지 사용량(W)
								</th>
								<th>
									당일 에너지 사용량(Wh)
								</th>
								<th>
									당월 에너지 사용량(kWh)
								</th>
								<th>
									누적 에너지 사용량(kWh)
								</th>
								<th>
									지역
								</th>
							</tr>
						</thead>
						<tbody id="client_list">
						</tbody>
					</table>
				</div>
				<div class="panel-footer">
					<ul class="pagination pagination-sm">
						<li>
							<a href="#">Prev</a>
						</li>
						<li>
							<a href="#">1</a>
						</li>
						<li>
							<a href="#">Next</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>

	<!-- params for page -->
	<script>
		initGroupSummaryInfo().then(
			function(results) {
				drawAdminPage();
				drawClientListTag();
			}
		);
		
	</script>
  </body>
</html>